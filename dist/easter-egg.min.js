/*!
 * easter-egg.js v0.5.0
 * https://github.com/gridonic/easter-egg.js
 *
 * Originally based on: https://github.com/snaptortoise/konami-js/
 *
 * Copyright 2014 @gridonic
 * Released under the MIT license
 *
 * Build: 18.9.2014
 */
!function(t){"use strict";var o;return o=function(t){var o={pattern:[38,38,40,40,37,39,37,39,66,65],patternTouch:["↑","↑","↓","↓","←","→","→","←","tap","tap"],onInput:null,onCorrectInput:null,onComboBreak:null,onSuccess:null};for(var e in o)o.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=o[e]);var n={addEvent:function(t,o,e,n){t.addEventListener?t.addEventListener(o,e,!1):t.attachEvent&&(t["e"+o+e]=e,t[o+e]=function(){t["e"+o+e](window.event,n)},t.attachEvent("on"+o,t[o+e]))},pattern:t.pattern,orig_pattern:t.pattern,load:function(){this.addEvent(document,"keydown",function(o,e){e&&(n=e);var a=o?o.keyCode:event.keyCode;return"function"==typeof t.onInput&&t.onInput(a,n.pattern,n.orig_pattern),a===n.pattern[0]?(n.pattern=n.pattern.slice(1,n.pattern.length),"function"==typeof t.onCorrectInput&&t.onCorrectInput(a,n.pattern,n.orig_pattern)):("function"==typeof t.onComboBreak&&t.onComboBreak(a,n.pattern,n.orig_pattern),n.pattern=n.orig_pattern),0===n.pattern.length?(n.pattern=n.orig_pattern,n.success(),o.preventDefault(),!1):!0},this),this.touch.load()},success:function(){var o=typeof t.onSuccess;"function"===o?t.onSuccess():"string"===o&&(window.location=t.onSuccess)},touch:{touchState:{startX:0,startY:0,stopX:0,stopY:0,tap:!1,capture:!1},orig_patternTouch:t.patternTouch,patternTouch:t.patternTouch,load:function(){n.addEvent(document,"touchmove",function(t){if(1==t.touches.length&&n.touch.touchState.capture===!0){var o=t.touches[0];n.touch.touchState.stopX=o.pageX,n.touch.touchState.stopY=o.pageY,n.touch.touchState.tap=!1,n.touch.touchState.capture=!1,n.touch.check_direction()}}),n.addEvent(document,"touchend",function(){n.touch.touchState.tap===!0&&n.touch.check_direction()},!1),n.addEvent(document,"touchstart",function(t){n.touch.touchState.startX=t.changedTouches[0].pageX,n.touch.touchState.startY=t.changedTouches[0].pageY,n.touch.touchState.tap=!0,n.touch.touchState.capture=!0})},check_direction:function(){var o=Math.abs(this.touchState.startX-this.touchState.stop_x),e=Math.abs(this.touchState.startY-this.touchState.stop_y),a=this.touchState.startX-this.touchState.stop_x<0?"→":"←",c=this.touchState.startY-this.touchState.stop_y<0?"↓":"↑",u=o>e?a:c;u=this.touchState.tap===!0?"tap":u,"function"==typeof t.onInput&&t.onInput(u,this.patternTouch,this.orig_patternTouch),u===this.patternTouch[0]?(this.patternTouch=this.patternTouch.slice(1,this.patternTouch.length),"function"==typeof t.onCorrectInput&&t.onCorrectInput(u,this.patternTouch,this.orig_patternTouch)):("function"==typeof t.onComboBreak&&t.onComboBreak(u,this.patternTouch,this.orig_patternTouch),this.patternTouch=this.orig_patternTouch),0===this.patternTouch.length&&(this.patternTouch=this.orig_patternTouch,n.success())}}};return n.load()},t.easterEgg=o,"function"==typeof t.define&&t.define.amd&&t.define([],function(){return t.EasterEgg}),"undefined"!=typeof t.module&&null!==t.module&&(t.module.exports=o),o}(window);