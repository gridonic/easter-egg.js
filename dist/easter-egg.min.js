/*!
 * easter-egg.js v0.5.0
 * https://github.com/gridonic/easter-egg.js
 *
 * Originally based on: https://github.com/snaptortoise/konami-js/
 *
 * Copyright 2014 @gridonic
 * Released under the MIT license
 *
 * Build: 18.9.2014
 */
!function(t){"use strict";var n;return n=function(t){var n={pattern:[38,38,40,40,37,39,37,39,66,65],patternTouch:["↑","↑","↓","↓","←","→","→","←","tap","tap"],onInput:null,onCorrectInput:null,onComboBreak:null,onSuccess:null};for(var o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o]);var e={addEvent:function(t,n,o,e){t.addEventListener?t.addEventListener(n,o,!1):t.attachEvent&&(t["e"+n+o]=o,t[n+o]=function(){t["e"+n+o](window.event,e)},t.attachEvent("on"+n,t[n+o]))},pattern:t.pattern,orig_pattern:t.pattern,load:function(){this.addEvent(document,"keydown",function(n,o){o&&(e=o);var a=n?n.keyCode:event.keyCode;return"function"==typeof t.onInput&&t.onInput(a,e.pattern,e.orig_pattern),a===e.pattern[0]?(e.pattern=e.pattern.slice(1,e.pattern.length),"function"==typeof t.onCorrectInput&&t.onCorrectInput(a,e.pattern,e.orig_pattern)):("function"==typeof t.onComboBreak&&t.onComboBreak(a,e.pattern,e.orig_pattern),e.pattern=e.orig_pattern),0===e.pattern.length?(e.pattern=e.orig_pattern,e.success(),n.preventDefault(),!1):!0},this),this.touch.load()},success:function(){var n=typeof t.onSuccess;"function"===n?t.onSuccess():"string"===n&&(window.location=t.onSuccess)},touch:{touchState:{startX:0,startY:0,stopX:0,stopY:0,tap:!1},orig_patternTouch:t.patternTouch,patternTouch:t.patternTouch,load:function(){var t=function(t){e.touch.touchState.startX=t.changedTouches[0].pageX,e.touch.touchState.startY=t.changedTouches[0].pageY,e.touch.touchState.tap=!0},n=function(t){if(1==t.touches.length){var n=t.touches[0];e.touch.touchState.stopX=n.pageX,e.touch.touchState.stopY=n.pageY,e.touch.touchState.tap=!1}},o=function(){e.touch.checkDirection()};e.addEvent(document,"touchstart",t),e.addEvent(document,"touchmove",n),e.addEvent(document,"touchend",o,!1)},checkDirection:function(){var n=Math.abs(this.touchState.startX-this.touchState.stopX),o=Math.abs(this.touchState.startY-this.touchState.stopY),a=this.touchState.startX-this.touchState.stopX<0?"→":"←",c=this.touchState.startY-this.touchState.stopY<0?"↓":"↑",u=n>o?a:c;u=this.touchState.tap===!0?"tap":u,"function"==typeof t.onInput&&t.onInput(u,this.patternTouch,this.orig_patternTouch),u===this.patternTouch[0]?(this.patternTouch=this.patternTouch.slice(1,this.patternTouch.length),"function"==typeof t.onCorrectInput&&t.onCorrectInput(u,this.patternTouch,this.orig_patternTouch)):("function"==typeof t.onComboBreak&&t.onComboBreak(u,this.patternTouch,this.orig_patternTouch),this.patternTouch=this.orig_patternTouch),0===this.patternTouch.length&&(this.patternTouch=this.orig_patternTouch,e.success())}}};return e.load()},t.easterEgg=n,"function"==typeof t.define&&t.define.amd&&t.define([],function(){return t.EasterEgg}),"undefined"!=typeof t.module&&null!==t.module&&(t.module.exports=n),n}(window);