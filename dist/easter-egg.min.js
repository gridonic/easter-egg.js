/*!
 * easter-egg.js v0.5.0
 * https://github.com/gridonic/easter-egg.js
 *
 * Originally based on: https://github.com/snaptortoise/konami-js/
 *
 * Copyright 2014 @gridonic
 * Released under the MIT license
 *
 * Build: 2.7.2014
 */
!function(t){"use strict";var n;return n=function(t){var n={pattern:[38,38,40,40,37,39,37,39,66,65],patternTouch:["↑","↑","↓","↓","←","→","→","←","tap","tap"],onInput:null,onCorrectInput:null,onComboBreak:null,onSuccess:null};for(var o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o]);var e={addEvent:function(t,n,o,e){t.addEventListener?t.addEventListener(n,o,!1):t.attachEvent&&(t["e"+n+o]=o,t[n+o]=function(){t["e"+n+o](window.event,e)},t.attachEvent("on"+n,t[n+o]))},pattern:t.pattern,orig_pattern:t.pattern,load:function(){this.addEvent(document,"keydown",function(n,o){o&&(e=o);var r=n?n.keyCode:event.keyCode;return"function"==typeof t.onInput&&t.onInput(r,e.pattern,e.orig_pattern),r===e.pattern[0]?(e.pattern=e.pattern.slice(1,e.pattern.length),"function"==typeof t.onCorrectInput&&t.onCorrectInput(r,e.pattern,e.orig_pattern)):("function"==typeof t.onComboBreak&&t.onComboBreak(r,e.pattern,e.orig_pattern),e.pattern=e.orig_pattern),0===e.pattern.length?(e.pattern=e.orig_pattern,e.success(),n.preventDefault(),!1):!0},this),this.touch.load()},success:function(){var n=typeof t.onSuccess;"function"===n?t.onSuccess():"string"===n&&(window.location=t.onSuccess)},touch:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_patternTouch:t.patternTouch,patternTouch:t.patternTouch,load:function(){e.addEvent(document,"touchmove",function(t){if(1==t.touches.length&&e.touch.capture===!0){var n=t.touches[0];e.touch.stop_x=n.pageX,e.touch.stop_y=n.pageY,e.touch.tap=!1,e.touch.capture=!1,e.touch.check_direction()}}),e.addEvent(document,"touchend",function(){e.touch.tap===!0&&e.touch.check_direction()},!1),e.addEvent(document,"touchstart",function(t){e.touch.start_x=t.changedTouches[0].pageX,e.touch.start_y=t.changedTouches[0].pageY,e.touch.tap=!0,e.touch.capture=!0})},check_direction:function(){var n=Math.abs(this.start_x-this.stop_x),o=Math.abs(this.start_y-this.stop_y),r=this.start_x-this.stop_x<0?"→":"←",c=this.start_y-this.stop_y<0?"↓":"↑",a=n>o?r:c;a=this.tap===!0?"tap":a,"function"==typeof t.onInput&&t.onInput(a,this.patternTouch,this.orig_patternTouch),a===this.patternTouch[0]?(this.patternTouch=this.patternTouch.slice(1,this.patternTouch.length),"function"==typeof t.onCorrectInput&&t.onCorrectInput(a,this.patternTouch,this.orig_patternTouch)):("function"==typeof t.onComboBreak&&t.onComboBreak(a,this.patternTouch,this.orig_patternTouch),this.patternTouch=this.orig_patternTouch),0===this.patternTouch.length&&(this.patternTouch=this.orig_patternTouch,e.success())}}};return e.load()},t.easterEgg=n,"function"==typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof module&&null!==module&&(module.exports=n),n}(this);