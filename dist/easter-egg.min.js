/*!
 * easter-egg.js v0.5.0
 * https://github.com/gridonic/easter-egg.js
 *
 * Originally based on: https://github.com/snaptortoise/konami-js/
 *
 * Copyright 2014 @gridonic
 * Released under the MIT license
 *
 * Build: 26.6.2014
 */
!function(t){"use strict";var e;return e=function(t){var e={pattern:[38,38,40,40,37,39,37,39,66,65],patternTouch:["↑","↑","↓","↓","←","→","→","←","tap","tap"],onInput:null,onCorrectInput:null,onComboBreak:null,onSuccess:null};for(var n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);var o={addEvent:function(t,e,n,o){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&(t["e"+e+n]=n,t[e+n]=function(){t["e"+e+n](window.event,o)},t.attachEvent("on"+e,t[e+n]))},pattern:t.pattern,orig_pattern:t.pattern,load:function(e){this.addEvent(document,"keydown",function(n,c){c&&(o=c);var r=n?n.keyCode:event.keyCode;return"function"==typeof t.onInput&&t.onInput(r,o.pattern,o.orig_pattern),r===o.pattern[0]?(o.pattern=o.pattern.slice(1,o.pattern.length),"function"==typeof t.onCorrectInput&&t.onCorrectInput(r,o.pattern,o.orig_pattern)):("function"==typeof t.onComboBreak&&t.onComboBreak(r,o.pattern,o.orig_pattern),o.pattern=o.orig_pattern),0===o.pattern.length?(o.pattern=o.orig_pattern,o.code(e),n.preventDefault(),!1):void 0},this),this.touch.load(e)},code:function(t){window.location=t},touch:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:t.patternTouch,keys:t.patternTouch,code:function(t){o.code(t)},load:function(t){o.addEvent(document,"touchmove",function(t){if(1==t.touches.length&&o.touch.capture===!0){var e=t.touches[0];o.touch.stop_x=e.pageX,o.touch.stop_y=e.pageY,o.touch.tap=!1,o.touch.capture=!1,o.touch.check_direction()}}),o.addEvent(document,"touchend",function(){o.touch.tap===!0&&o.touch.check_direction(t)},!1),o.addEvent(document,"touchstart",function(t){o.touch.start_x=t.changedTouches[0].pageX,o.touch.start_y=t.changedTouches[0].pageY,o.touch.tap=!0,o.touch.capture=!0})},check_direction:function(e){var n=Math.abs(this.start_x-this.stop_x),o=Math.abs(this.start_y-this.stop_y),c=this.start_x-this.stop_x<0?"→":"←",r=this.start_y-this.stop_y<0?"↓":"↑",s=n>o?c:r;s=this.tap===!0?"tap":s,"function"==typeof t.onInput&&t.onInput(s,this.keys,this.orig_keys),s===this.keys[0]?(this.keys=this.keys.slice(1,this.keys.length),"function"==typeof t.onCorrectInput&&t.onCorrectInput(s,this.keys,this.orig_keys)):("function"==typeof t.onComboBreak&&t.onComboBreak(s,this.keys,this.orig_keys),this.keys=this.orig_keys),0===this.keys.length&&(this.keys=this.orig_keys,this.code(e))}}};return"string"==typeof t.onSuccess&&o.load(t.onSuccess),"function"==typeof t.onSuccess&&(o.code=t.onSuccess,o.load()),o},t.easterEgg=e,"function"==typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof module&&null!==module&&(module.exports=e),e}(this);